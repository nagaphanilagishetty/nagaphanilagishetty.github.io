
<html>
<body>
<h1>Embed</h1>
<iframe id="wwiframe" src="https://ui.demo.upcp.wirewheel.io/321/welcome" width="100%" 
height="1500px"></iframe>
<script type="text/javascript">
  window.WireWheelUPCPConfig = {
        'wwupcp_apiurl': 'https://api.demo.upcp.wirewheel.io/v2',
        'wwupcp_apikey': 
'eyJicmFuZElkIjoiMkZScVhIbm55RE9zb0pFcmtrZkQ0WFVqZkgzIiwiY2hhbm5lbElkIjoiMkdtQUhDejdUUE92RG1JM3NaeUpwV29VNWlKIiwidGVuYW50SWQiOiI2MjlmYjQzYjFhMDg1M2UxODRkNjhjY2EifQ==',
        'wwupcp_cookie_domain': 'jeffderosalia.github.io',
        'wwupcp_cookie_duration': 365,
        'wwupcp_cmp_default_consents': [
           {
              'target': 'californiaDoNotSell',
              'action': 'ACCEPT'
           },
        ],
     };
</script>
<script type="text/javascript" 
src="https://ui.demo.upcp.wirewheel.io/extensions/upcp-sdk-0.8.3.min.js"></script>
<script type="text/javascript" 
src="https://ui.uat.upcp.wirewheel.io/extensions/upcp-sdk-bridge-1.3.0.min.js"></script>
<script type="text/javascript">
    // Initializes the Embedded SDK
    const { WireWheelSDK } = window.cmpJavascriptSdk
    const embeddedHandler = WireWheelSDK.initEmbeddedParent({
      targetIframe: document.getElementById("wwiframe")
    })

    /*
    // Listen events in child application
    embeddedHandler.on('login', (message) => {
      logMessage(message)
    })

    embeddedHandler.on('logout', (message) => {
      logMessage(message)
    })*/

    embeddedHandler.on('consent:write', (message) => {
      const { actions } = message.data  
      logMessage(message)
    })

    function logMessage(message) {
      console.log(message);
    }
  </script>
</body>
</html>
